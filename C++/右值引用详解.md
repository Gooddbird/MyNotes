# 右值引用

## 右值

C++所有的值，要么是左值，要么就是右值。

左值：指的是能持久化的对象，表达式结束后还存在。可以对左值取地址，因为左值代表了一个内存地址的名称，通过这个名称可以访问这个内存地址。
```
int x = 1;
// x 就是一个左值，x代表了一个内存地址的名称
```

右值：不能持久化的临时对象，表达式结束后不存在。右值只能出现在 等号= 的右侧。不能对右值进行取地址。对于右值，他这块内存地址是没有名称的，因此就不能访问。
```
int fun(int a) {
    return a+1;
}

int x = fun(1);
// fun(1)返回值就是一个右值
```

一般来说，能对其进行**取地址**的就是左值，否则就是右值。

## 引用
### 左值引用
& 即普通引用，即变量的别名。
左值引用只能绑定左值，不能绑定右值。
```
int i = 1;

int& a = i;
// a是变量i的一个引用，i是左值，因此a又叫左值引用。

// int& b = 1; 错误，1是右值
```


### 右值引用
&& 即右值引用，是C++11新增
```
int&& b = 1;
// b是一个右值引用，他绑定在1这个右值上。

int&& c = fun(1);
// c也是一右值引用，绑定在fun(1)这个右值上
```

### 常量左值引用
如const int & 

一般来说，左值引用只能绑定左值，右值引用只能绑定右值。但对常量左值引用是个例外，它既可以绑定左值，也可以绑定右值。
```
int b;
const int& a = b; // 绑定左值b 正确

const int& c = 1; // 绑定右值1 也正确
```

